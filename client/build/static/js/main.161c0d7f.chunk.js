(this["webpackJsonphappy-hour"]=this["webpackJsonphappy-hour"]||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/local_bar-24px.fba725bd.svg"},126:function(e,t,a){e.exports=a(257)},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),i=a(58),c=a(112),s=a(121),u=a(34),p=a(35),m=a(38),h=a(36),d=a(39),g=a(59),v={position:"absolute",width:"100%",height:"100%"},f=function(e){function t(e){var a;Object(u.a)(this,t);var n=(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).props.initialCenter,r=n.lat,o=n.lng;return a.state={currentLocation:{lat:r,lng:o},search:""},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=l.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,o=r.lat,i=r.lng,c=new e.LatLng(o,i),s=Object.assign({},{center:c,zoom:n,mapTypeControlOptions:{mapTypeIds:[]}});this.map=new e.Map(a,s)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},v);return r.a.createElement("div",null,r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(r.a.Component),b=f;f.defaultProps={zoom:14,initialCenter:{lat:43.644262,lng:-79.402261},centerAroundCurrentLocation:!1,visible:!0,mapTypeControlOptions:{mapTypeIds:[]}};var E=a(79),k=a.n(E),y=a(113),w=a.n(y),C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isChecked:!1},a.toggleCheckboxChange=function(){var e=a.props,t=e.handleCheckboxChange,n=e.label;a.setState((function(e){return{isChecked:!e.isChecked}})),t(n)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.label,t=this.state.isChecked;return r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:e,checked:t,onChange:this.toggleCheckboxChange}),e))}}]),t}(n.Component),O={1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"},j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onMarkerClick=function(e,t,n){a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},restaurants:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=k.a.get("http://localhost:8080/api/customers"),a=k.a.get("http://localhost:8080/api/restaurants");Promise.all([t,a]).then((function(t){console.log(t[1].data.restaurants);var a=Object(s.a)(t[1].data.restaurants);console.log("r ",a),e.setState((function(e){return console.log("prev",e),Object(c.a)({},e,{restaurants:a})}))})).catch((function(e){console.log("An error occurred while retrieving data from the database",e)}))}},{key:"render",value:function(){var e=this;return console.log(this.state.restaurants),r.a.createElement(b,{centerAroundCurrentLocation:!0,google:this.props.google},this.state.restaurants.map((function(t){return r.a.createElement(g.Marker,{onClick:e.onMarkerClick,date_available:t.date_available,icon:w.a,title:t.name,name:t.name,start_time:t.start_time,end_time:t.end_time,position:{lat:t.lat,lng:t.lng}})})),r.a.createElement(g.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement(C,null),r.a.createElement(C,null),r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name),r.a.createElement("h5",null,this.state.selectedPlace.start_time," -"," ",this.state.selectedPlace.end_time),r.a.createElement("ul",null,this.state.selectedPlace.date_available&&this.state.selectedPlace.date_available.map((function(e){return r.a.createElement("li",null,O[e])}))))))}}]),t}(n.Component),x=Object(g.GoogleApiWrapper)({apiKey:"AIzaSyD-zlTgaeYl8xGwJLN_A9DV3sUdOg-Hqpw"})(j),M=a(114),L=a.n(M);a(167);function P(){return r.a.createElement("div",null,r.a.createElement(L.a,{onSelect:console.log}))}var S=a(115),_=a.n(S),A=a(40),I=a(301),W=a(300),T=a(295),N=a(304),B=a(305),D=a(303),z=a(117),G=a.n(z),F=a(80),J=a.n(F),Q=a(297),U=a(306),q=a(298),H=a(299),K=a(118),R=a.n(K),V=a(119),Y=a.n(V),Z=a(302),$=a(60),X=a(293),ee=a(12),te=Object(X.a)((function(e){return{root:{display:"flex"},drawer:Object(A.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(A.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(A.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}));var ae=function(e){var t=e.container,a=te(),n=Object(ee.a)(),o=r.a.useState(!1),l=Object(i.a)(o,2),c=l[0],s=l[1],u=function(){s(!c)},p=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(T.a,null),r.a.createElement(Q.a,null,["Profile","Favourite places"].map((function(e,t){return r.a.createElement(U.a,{button:!0,key:e},r.a.createElement(q.a,null,t%2===0?r.a.createElement(G.a,null):r.a.createElement(R.a,null)),r.a.createElement(H.a,{primary:e}))}))),r.a.createElement(T.a,null),r.a.createElement(Q.a,null,["About"].map((function(e,t){return r.a.createElement(U.a,{button:!0,key:e},r.a.createElement(q.a,null,r.a.createElement(J.a,null)),r.a.createElement(H.a,{primary:e}))}))));return r.a.createElement("div",{className:a.root},r.a.createElement(W.a,null),r.a.createElement(I.a,{position:"fixed",className:a.appBar},r.a.createElement(Z.a,null,r.a.createElement(D.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:u,className:a.menuButton},r.a.createElement(Y.a,null)),r.a.createElement($.a,{variant:"h6",noWrap:!0},"Happy Brauer"))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(B.a,{smUp:!0,implementation:"css"},r.a.createElement(N.a,{container:t,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:c,onClose:u,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},p)),r.a.createElement(B.a,{xsDown:!0,implementation:"css"},r.a.createElement(N.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},p))))};var ne=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1];return r.a.createElement(_.a,null,r.a.createElement(ae,null),r.a.createElement("script",{url:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAxSt2heQ8o5gGZqoRmQKtFQi_TotcxSsc","&libraries=places")}),r.a.createElement(P,{addPin:o}),r.a.createElement(x,{pins:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.161c0d7f.chunk.js.map